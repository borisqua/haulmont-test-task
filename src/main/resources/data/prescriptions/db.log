/*C3*/SET SCHEMA PUBLIC
DELETE FROM RECEPIES WHERE ID=1
COMMIT
drop table recepies\u000a
drop table doctors\u000a
drop table patients
create table patients (\u000aid bigint generated by default as identity (start with 1, increment by 1) not null primary key,\u000aname varchar(50) not null,\u000asurname varchar(128) not null,\u000apatronymic varchar(50),\u000aphone varchar(30))\u000a\u000a
create table doctors (\u000aid bigint generated by default as identity (start with 1, increment by 1) not null primary key,\u000aname varchar(50) not null,\u000asurname varchar(128) not null,\u000apatronymic varchar(50),\u000aspecialization varchar(128))\u000a\u000a
create table recepies (\u000aid bigint generated by default as identity (start with 1, increment by 1) not null primary key,\u000adescription varchar(256) not null,\u000apatientId bigint not null,\u000adoctorId bigint not null,\u000acreationDate date default CURRENT_DATE not null,\u000avalidityLength tinyint default 7 not null,\u000apriority varchar(50) default '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0439' not null,  -- '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0439', 'Cito (\u0421\u0440\u043e\u0447\u043d\u044b\u0439)', 'Statim (\u041d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439)'\u000aforeign key (patientId) references patients(id),\u000aforeign key (doctorId) references doctors(id))\u000a\u000a
drop table recepies\u000a
drop table doctors\u000a
drop table patients
create table patients (\u000aid bigint generated by default as identity (start with 1, increment by 1) not null primary key,\u000aname varchar(50) not null,\u000asurname varchar(128) not null,\u000apatronymic varchar(50),\u000aphone varchar(30))\u000a\u000a
create table doctors (\u000aid bigint generated by default as identity (start with 1, increment by 1) not null primary key,\u000aname varchar(50) not null,\u000asurname varchar(128) not null,\u000apatronymic varchar(50),\u000aspecialization varchar(128))\u000a\u000a
create table recepies (\u000aid bigint generated by default as identity (start with 1, increment by 1) not null primary key,\u000adescription varchar(256) not null,\u000apatientId bigint not null,\u000adoctorId bigint not null,\u000acreationDate date default CURRENT_DATE not null,\u000avalidityLength tinyint default 7 not null,\u000apriority varchar(50) default '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0439' not null,  -- '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0439', 'Cito (\u0421\u0440\u043e\u0447\u043d\u044b\u0439)', 'Statim (\u041d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439)'\u000aforeign key (patientId) references patients(id),\u000aforeign key (doctorId) references doctors(id))
drop table recepies\u000a
drop table doctors\u000a
drop table patients\u000a
create table patients (\u000aid bigint generated by default as identity (start with 1, increment by 1) not null primary key,\u000aname varchar(50) not null,\u000asurname varchar(128) not null,\u000apatronymic varchar(50),\u000aphone varchar(30))\u000a\u000a
create table doctors (\u000aid bigint generated by default as identity (start with 1, increment by 1) not null primary key,\u000aname varchar(50) not null,\u000asurname varchar(128) not null,\u000apatronymic varchar(50),\u000aspecialization varchar(128))\u000a\u000a
create table prescriptions (\u000aid bigint generated by default as identity (start with 1, increment by 1) not null primary key,\u000adescription varchar(256) not null,\u000apatientId bigint not null,\u000adoctorId bigint not null,\u000acreationDate date default CURRENT_DATE not null,\u000avalidityLength tinyint default 7 not null,\u000apriority varchar(50) default '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0439' not null,  -- '\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0439', 'Cito (\u0421\u0440\u043e\u0447\u043d\u044b\u0439)', 'Statim (\u041d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439)'\u000aforeign key (patientId) references patients(id),\u000aforeign key (doctorId) references doctors(id))\u000a
DISCONNECT
